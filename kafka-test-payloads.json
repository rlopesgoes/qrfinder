{
  "topic": "video-notifications",
  "payloads": {
    "1_uploading": {
      "VideoId": "test-video-123",
      "Stage": 0,
      "ProgressPercentage": 25.5,
      "CurrentOperation": "Receiving video chunks",
      "ErrorMessage": null,
      "Timestamp": "2025-01-20T10:30:00Z"
    },
    "2_uploaded": {
      "VideoId": "test-video-123", 
      "Stage": 1,
      "ProgressPercentage": 100.0,
      "CurrentOperation": "Upload completed",
      "ErrorMessage": null,
      "Timestamp": "2025-01-20T10:32:15Z"
    },
    "3_processing": {
      "VideoId": "test-video-123",
      "Stage": 2, 
      "ProgressPercentage": 60.0,
      "CurrentOperation": "Extracting QR codes from frames",
      "ErrorMessage": null,
      "Timestamp": "2025-01-20T10:35:30Z"
    },
    "4_processed": {
      "VideoId": "test-video-123",
      "Stage": 3,
      "ProgressPercentage": 100.0,
      "CurrentOperation": "Processing completed successfully",
      "ErrorMessage": null, 
      "Timestamp": "2025-01-20T10:40:45Z"
    },
    "5_failed": {
      "VideoId": "test-video-456",
      "Stage": 4,
      "ProgressPercentage": 0.0,
      "CurrentOperation": "Failed during video processing",
      "ErrorMessage": "Invalid video format: unsupported codec",
      "Timestamp": "2025-01-20T10:25:10Z"
    }
  }
}

COMANDOS PARA TESTAR:

# 1. UPLOADING (25.5%)
echo '{"VideoId":"test-video-123","Stage":0,"ProgressPercentage":25.5,"CurrentOperation":"Receiving video chunks","ErrorMessage":null,"Timestamp":"2025-01-20T10:30:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

# 2. UPLOADED (100%)  
echo '{"VideoId":"test-video-123","Stage":1,"ProgressPercentage":100.0,"CurrentOperation":"Upload completed","ErrorMessage":null,"Timestamp":"2025-01-20T10:32:15Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

# 3. PROCESSING (60%)
echo '{"VideoId":"test-video-123","Stage":2,"ProgressPercentage":60.0,"CurrentOperation":"Extracting QR codes from frames","ErrorMessage":null,"Timestamp":"2025-01-20T10:35:30Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

# 4. PROCESSED (100%)
echo '{"VideoId":"test-video-123","Stage":3,"ProgressPercentage":100.0,"CurrentOperation":"Processing completed successfully","ErrorMessage":null,"Timestamp":"2025-01-20T10:40:45Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

# 5. FAILED 
echo '{"VideoId":"test-video-456","Stage":4,"ProgressPercentage":0.0,"CurrentOperation":"Failed during video processing","ErrorMessage":"Invalid video format: unsupported codec","Timestamp":"2025-01-20T10:25:10Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

SEQUÊNCIA COMPLETA PARA UM VÍDEO:
# Simula o ciclo completo de um vídeo

echo '{"VideoId":"demo-video","Stage":0,"ProgressPercentage":0.0,"CurrentOperation":"Starting upload","ErrorMessage":null,"Timestamp":"2025-01-20T11:00:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

sleep 2

echo '{"VideoId":"demo-video","Stage":0,"ProgressPercentage":50.0,"CurrentOperation":"Uploading chunks","ErrorMessage":null,"Timestamp":"2025-01-20T11:01:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

sleep 2

echo '{"VideoId":"demo-video","Stage":1,"ProgressPercentage":100.0,"CurrentOperation":"Upload completed","ErrorMessage":null,"Timestamp":"2025-01-20T11:02:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

sleep 2

echo '{"VideoId":"demo-video","Stage":2,"ProgressPercentage":30.0,"CurrentOperation":"Decoding video frames","ErrorMessage":null,"Timestamp":"2025-01-20T11:03:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

sleep 2

echo '{"VideoId":"demo-video","Stage":2,"ProgressPercentage":80.0,"CurrentOperation":"Scanning for QR codes","ErrorMessage":null,"Timestamp":"2025-01-20T11:04:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications

sleep 2

echo '{"VideoId":"demo-video","Stage":3,"ProgressPercentage":100.0,"CurrentOperation":"Found 5 QR codes","ErrorMessage":null,"Timestamp":"2025-01-20T11:05:00Z"}' | docker exec -i qrfinder-kafka kafka-console-producer --broker-list localhost:29092 --topic video-notifications